## 1. Requirements Document (要件定義書)

### 1.0.概要
プロジェクト名: `Feather Calendar` (フェザーカレンダー)
**概要:** 会議やタスク管理の際に素早く参照できる、軽量でインストール不要なWindows向けカレンダーアプリケーション。

### 1.1. 機能要件 (Functional Requirements)

| ID | ユーザーストーリー | 受け入れ基準 (Acceptance Criteria) |
| :--- | :--- | :--- |
| **FR-01** | **ユーザーとして、** 1画面で前月、今月、翌月の3ヶ月分のカレンダーを見たい。 | - アプリケーション起動時に、デフォルトで現在の日付を含む月、その前月、翌月の3つが表示される。<br>- 各カレンダーは独立したグリッドとして表示される。 |
| **FR-02** | **ユーザーとして、** 表示されているカレンダーの月を前後に移動させたい。 | - 「<」ボタンをクリックすると、表示されている3ヶ月が1ヶ月過去に移動する（例：8,9,10月 → 7,8,9月）。<br>- 「>」ボタンをクリックすると、表示されている3ヶ月が1ヶ月未来に移動する。<br>- 中央の月が現在の日付を含む月に戻る「今日」ボタンが存在する。 |
| **FR-03** | **ユーザーとして、** 週の始まりが日曜日であるカレンダーを使いたい。 | - 全てのカレンダー表示において、週の最初の列は日曜日である。<br>- 曜日のヘッダー（Sun., Mon., Tue., Wed., Thu., Fri., Sut.）が表示されている。 |
| **FR-04** | **ユーザーとして、** 特定の日付を目立たせるために色をつけたい。 | - カレンダー上の任意の日付をクリックすると、その日の背景色がハイライトされる。<br>- 再度同じ日付をクリックすると、ハイライトが解除される。<br>- 複数の日付に色をつけることができる。 |
| **FR-05** | **ユーザーとして、** アプリケーションを他のウィンドウより常に手前に表示させたい。 | - ウィンドウのヘッダー部分に「ピン留め」ボタン（ピンのアイコンなど）が存在する。<br>- 「ピン留め」ボタンをオンにすると、アプリケーションは最前面に固定される。<br>- 再度ボタンを押すと、最前面固定は解除される。 |
| **FR-06** | **ユーザーとして、** ウィンドウのサイズを変更したとき、カレンダーも追従して見やすく表示されてほしい。 | - ウィンドウの幅や高さを変更すると、3つのカレンダーのサイズとレイアウトが自動的に調整される。<br>- ウィンドウを極端に小さくしても、表示が崩れない（例：縦一列に並ぶなど）。 |
| **FR-07** | **ユーザーとして、** インストール作業なしで、すぐにアプリケーションを使いたい。 | - アプリケーションは単一の実行可能ファイル（`.exe`）として提供される。<br>- zipファイルを解凍し、exeファイルを実行するだけで起動する。<br>- レジストリへの書き込みや、特定のフォルダへのファイル配置を必要としない。 |
| **FR-08** | **ユーザーとして、** アプリケーションを終了して再度起動したとき、以前つけた色の情報が復元されてほしい。 | - 色をつけた日付の情報は、アプリケーション終了時に自動的に保存される。<br>- 次回起動時に、保存された色情報がカレンダーに自動的に反映される。 |

### 1.2. 非機能要件 (Non-Functional Requirements)

| ID | カテゴリ | 要件定義 |
| :--- | :--- | :--- |
| **NFR-01** | **ユーザビリティ** | - アプリケーション起動後、3秒以内に操作可能な状態になる。<br>- UIは直感的であり、マニュアルを読まなくても基本的な操作（月移動、色付け、ピン留め）が可能である。<br>- キーボードショートカット（例：`Ctrl+P`でピン留め切り替え、矢印キーで月移動）をサポートする。 |
| **NFR-02** | **パフォーマンス** | - アプリケーションの実行ファイルサイズは10MB未満である。<br>- アイドル時のメモリ使用量は50MB未満に抑える。<br>- 月の移動やウィンドウリサイズなどのUI操作は、遅延なくスムーズに（100ms以内）応答する。 |
| **NFR-03** | **信頼性・可用性** | - アプリケーションは連続72時間の稼働に耐えうること。<br>- 予期せぬエラーが発生した場合でも、アプリケーションがクラッシュせず、エラーメッセージを（ログファイルなどに）記録する。<br>- 色付け情報の保存に失敗した場合は、ユーザーに通知する（ただし、アプリの動作は継続する）。 |
| **NFR-04** | **セキュリティ** | - アプリケーションは外部ネットワークへの通信を一切行わない。<br>- ユーザーの個人情報やPC内の他ファイルへのアクセスを要求しない。<br>- 色付け情報の保存ファイルは、ユーザープロファイル下のアプリケーション固有フォルダに保存し、他のプログラムから隔離する。 |
| **NFR-05** | **保守性・運用性** | - ソースコードはRustの公式ガイドライン(`rustfmt`, `clippy`)に従い、一貫したスタイルを保つ。<br>- ロジック（状態管理、カレンダー計算）とUI（描画）の関心を分離した設計とする。<br>- デバッグ目的で、アプリケーションの実行ディレクトリにログファイル（例：`feather_calendar.log`）を生成する機能を持つ。 |
| **NFR-06** | **スケーラビリティ** | - 将来的に祝日表示機能や、複数の色パターンを追加できるよう、データ構造とUIが拡張可能な設計であること。<br>- 依存ライブラリを最小限に抑え、将来的なメンテナンスコストを低減する。 |
| **NFR-07** | **互換性・配布** | - Windows 11およびWindows 10で正常に動作する。<br>- アプリケーションはMITライセンスの条文を含む`README.txt`ファイルと共にzip形式で配布される。 |
