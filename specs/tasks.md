## 3. Implementation Plan (実装計画)

### Phase 1: プロジェクトセットアップと基本ウィンドウ (見積もり: S)

- `[x]` `cargo new feather_calendar`でプロジェクトを新規作成する。
- `[x]` `Cargo.toml`に`eframe`, `egui`, `chrono`, `serde`を追加する。
- `[x]` `main.rs`で`eframe`を初期化し、空のウィンドウを表示する。 **(要件: FR-07)**
- `[x]` `app.rs`を作成し、基本的な`AppState`構造体と`eframe::App`の実装を追加する。

### Phase 2: カレンダー表示機能の実装 (見積もり: M)

- `[x]` `logic/calendar_logic.rs`で、指定された年月のカレンダーデータ（日付、曜日など）を生成する関数を実装する。 **(要件: FR-03)**
- `[x]` 上記ロジックに対するユニットテストを作成する。
- `[x]` `ui/calendar_view.rs`で、単月のカレンダーをグリッドレイアウトで描画するコンポーネントを作成する。
- `[x]` `app.rs`から`calendar_view`を呼び出し、まず今月分だけのカレンダーを表示させる。 **(部分的にFR-01)**

### Phase 3: コア機能の実装 (見積もり: L)

- `[x]` `app.rs`のロジックを修正し、前月・今月・翌月の3つのカレンダーを表示するようにする。 **(要件: FR-01)**
- `[x]` `ui/header_view.rs`を作成し、月移動ボタン（`<`, `>）、`今日`ボタンを実装する。 **(要件: FR-02)**
- `[x]` 日付セルをクリックした際に、その日付を`AppState`の`marked_dates`に追加/削除するロジックを実装する。 **(要件: FR-04)**
- `[x]` `marked_dates`に含まれる日付を、異なる背景色で描画するように`calendar_view`を修正する。 **(要件: FR-04)**
- `[x]` `header_view.rs`にピン留めボタンを追加し、`AppState`の`is_always_on_top`フラグを切り替える。このフラグをウィンドウ設定に反映させる。 **(要件: FR-05)**
- `[x]` `egui`のレイアウト機能を活用し、ウィンドウリサイズにカレンダーサイズが追従するように調整する。 **(要件: FR-06)**

### Phase 4: 仕上げとリリース準備 (見積もり: M)

- `[ ]` `persistence.rs`を作成し、アプリ終了時に`marked_dates`をJSONファイルに保存し、起動時に読み込む機能を実装する。 **(要件: FR-08)**
- `[ ]` アプリケーションアイコンを作成し、ビルド設定に追加する。
- `[ ]` `README.txt`ファイル（MITライセンス）をプロジェクトルートに追加する。 **(要件: NFR-07)**
- `[ ]` `cargo build --release`でリリースビルドを実行し、パフォーマンスを確認する。 **(要件: NFR-02)**
- `[ ]` 実行可能ファイル(`feather_calendar.exe`)と`README.txt`をzipファイルにまとめる配布パッケージを作成する。 **(要件: FR-07)**
- `[ ]` 簡単な`README.txt`ファイル（使い方、ライセンス）を作成する。
- `[ ]` 手動E2Eテストを実施し、全ての要件が満たされていることを最終確認する。
